<!DOCTYPE html>
<html>

<head>

  <meta charset="utf-8">
  <link rel="stylesheet" type="text/css" href="common.css">
  <style type="text/css">

  	.container{
  		display: grid;
  		grid-template-columns: 75vw 25vw;
  		grid-template-rows: 100vh;
  		grid-template-areas: "vis sidebar"
  	}

  	h1{
  		margin: 0 0 1em;
  		padding: 0;

      text-transform: uppercase;
  		font-size: 1.5em;
      letter-spacing: .08em;
  	}

    a{
      color: inherit;
      text-decoration: none;
    }

  	.vis{
  		grid-area: vis;
  	}

  	.sidebar{
  		grid-area: sidebar;
  		padding: 1em;
      position: relative;
  	}

  	iframe{
  		display: block;
  		width: 100%;
  		height: 100%;
  		border: none;
  	}

  	.menu{
  		display: grid;
  		grid-template-columns: 1fr 1fr;
  		grid-template-rows: auto auto;

  		grid-gap: .5em;
  		margin: 0;
  		padding: 0;
  	}

  	.menu li{
  		list-style: none;
  		display: block;
  		margin: 0;
  		padding: 0;
  		/*border: 1px solid red;*/
  	}

  	.menu li img{
  		display: block;
  		width: 100%;
  		height: auto;
  	}

  	.menu li span{
  		display: block;
  		width: 100%;
  		height: auto;
      padding: .3em 0 1em 0;
      text-transform: uppercase;
      letter-spacing: .05em;
      font-size: .8em;
  	}

    .credits {
      color: #777;
      position: absolute;
      bottom: 0;
      padding: 0 1em 1em 0;
      font-size: .8em;
    }

    .active{
      font-weight: bold;
    }

    .annotation p {
      display: none;
    }

  </style>
  <script type="text/javascript">
    function menuChange(){
      console.log(location.hash);

      var selectedItem = location.hash.split("#").pop();
      var allAnchors = document.querySelectorAll(".menu a");
      var matchedAnchors = document.querySelectorAll(".menu a[href='"+location.hash+"']");

      if(!matchedAnchors.length) {
        // empty or invalid hash - take first anchor
        location.hash = allAnchors[0].href.split("#").pop();
        return;
      }

      allAnchors.forEach(function(item) {
        item.classList.remove("active");
      });

      document.querySelectorAll(".menu a[href='#" + selectedItem + "']")[0].classList.add("active");
      document.getElementById("visframe").src= selectedItem + ".html";

      document.querySelectorAll(".annotation p").forEach(function(item) {
        if(item.getAttribute("data-for") === selectedItem){
          item.style.display = "block";
        } else {
          item.style.display = "none";
        }
      });
    }

    window.onhashchange = menuChange;
    window.onload = menuChange;
  </script>
</head>

<body>
  <div class="container">
  	<div class="vis">
  		<iframe src="map.html" id="visframe" name="visframe"></iframe>
  	</div>

  	<div class="sidebar">
  		<h1>well-formed&thinsp;.&thinsp;eigenfactor</h1>

  		<ul class="menu">

  			<li>
  				<a href="#radial">
  					<img src="img/radial2.gif" />
  					<span>Radial flow</span>
  				</a>
  			</li>

  			<li>
  				<a href="#sankey">
  					<img src="img/flow2.jpg" />
  					<span>Fields over time</span>
  				</a>
  			</li>

  			<li>

  				<a href="#treemap">
  					<img src="img/treemap2.gif" />
  					<span>Field hierarchy</span>
  				</a>
  			</li>

        <li>
          <a href="#map">
            <img src="img/map2.gif"/>
            <span>Network map</span>
          </a>
        </li>

  		</ul>
      <div class="annotation">
  		  <p data-for="radial">Radial — Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. </p>
        <p data-for="sankey">Sankey Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. </p>
        <p data-for="treemap">Treemap Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. </p>
        <p data-for="map">Map Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. </p>
      </div>

  		<div class="credits">
  			Moritz Stefaner with Martin Rosvall, Jevin West and Carl Bergstrom at the Bergstrom Lab, University of Washington.<br/> Code update 2018 by Sylvain Lesage and Philippe Rivière.
  		</div>

  	</div>
  </div>

</body>

</html>
